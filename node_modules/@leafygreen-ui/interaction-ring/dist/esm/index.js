import n,{useState as e,useEffect as r,useCallback as t,useMemo as o}from"react";import{cx as i,css as u}from"@leafygreen-ui/emotion";import{useUsingKeyboardContext as a}from"@leafygreen-ui/leafygreen-provider";import{createDataProp as l}from"@leafygreen-ui/lib";import{uiColors as c}from"@leafygreen-ui/palette";function f(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function s(){return(s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n}).apply(this,arguments)}function d(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function v(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function m(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var r=[],t=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(t=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);t=!0);}catch(n){o=!0,i=n}finally{try{t||null==a.return||a.return()}finally{if(o)throw i}}return r}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return p(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var b;function y(){var n=v(["\n  width: 100%;\n  height: 100%;\n\n  // Form elements don't always inherit these by default\n  // https://developer.mozilla.org/en-US/docs/Learn/Forms/Styling_web_forms#Fonts_and_text\n  font-family: inherit;\n  font-size: 100%;\n"]);return y=function(){return n},n}function g(){var n=v(["\n        border-radius: ",";\n      "]);return g=function(){return n},n}function h(){var n=v(["\n        &:hover > "," {\n          ","\n        }\n      "]);return h=function(){return n},n}function O(){var n=v(["\n    box-shadow: 0 0 0 3px\n      ",";\n  "]);return O=function(){return n},n}function j(){var n=v(["\n    box-shadow: 0 0 0 3px\n      ",";\n  "]);return j=function(){return n},n}function w(){var n=v(["\n  transition: all 150ms ease-in-out;\n  position: absolute;\n  z-index: -1;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n"]);return w=function(){return n},n}function x(){var n=v(["\n  display: inline-flex;\n  align-items: stretch;\n  position: relative;\n  z-index: 0;\n"]);return x=function(){return n},n}var R="light",E="dark",S=(f(b={},R,{interactionRingHover:c.gray.light2,interactionRingFocus:c.focus}),f(b,E,{interactionRingHover:c.gray.dark1,interactionRingFocus:c.focus}),b),F=u(x()),N=u(w()),z=l("interaction-ring");var A=u(y());function k(l){var c,v=l.darkMode,p=void 0!==v&&v,b=l.className,y=l.borderRadius,w=l.color,x=l.focusTargetElement,k=l.children,I=l.disabled,L=void 0!==I&&I,P=l.forceState,_=void 0===P?{}:P,H=d(l,["darkMode","className","borderRadius","color","focusTargetElement","children","disabled","forceState"]),M=p?E:R,T=a().usingKeyboard,B=m(e(),2),U=B[0],C=B[1],K=function(n){var e,r,t=n.mode,o=n.hovered,a=n.focused,l=n.borderRadius,c=void 0===l?"4px":l,s=n.color,d=u(j(),null!==(e=null==s?void 0:s.hovered)&&void 0!==e?e:S[t].interactionRingHover),v=u(O(),null!==(r=null==s?void 0:s.focused)&&void 0!==r?r:S[t].interactionRingFocus);return{container:i(F,f({},u(h(),z.selector,d),!1!==o&&!a)),interactionRing:i(N,u(g(),c),f({},d,null!=o&&o),f({},v,a))}}({mode:M,hovered:_.hovered,focused:T&&(null!==(c=_.focused)&&void 0!==c?c:U),borderRadius:y,color:w});r((function(){if(null!=x){var n=x===document.activeElement;if(C(n),n){var e=function(){return C(!1)};return x.addEventListener("blur",e),function(){return x.removeEventListener("blur",e)}}var r=function(){return C(!0)};return x.addEventListener("focus",r),function(){return x.removeEventListener("focus",r)}}}),[x,U]);var $=k.props.className,q=void 0===x,D=k.props.onFocus,G=t((function(n){q&&C(!0),null==D||D(n)}),[q,D]),J=k.props.onBlur,Q=t((function(n){q&&C(!1),null==J||J(n)}),[q,J]),V=o((function(){return n.cloneElement(k,{className:i(A,$),onFocus:G,onBlur:Q})}),[k,$,Q,G]);return n.createElement("div",s({className:i(K.container,b)},H),V,!L&&n.createElement("div",s({},z.prop,{className:K.interactionRing})))}k.displayName="InteractionRing";export default k;
//# sourceMappingURL=index.js.map
